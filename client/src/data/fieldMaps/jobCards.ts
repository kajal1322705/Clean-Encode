import { createFieldMap, type FieldDescriptor, getStatusClass } from "../fieldMapper";

const jobCardFields: FieldDescriptor[] = [
  {
    id: "jobNumber",
    label: "Job No",
    type: "text",
    showInForm: false,
    sortable: true,
  },
  {
    id: "vehicleNumber",
    label: "Vehicle No",
    type: "text",
    required: true,
    placeholder: "e.g., MH 12 AB 1234",
    sortable: true,
    filterable: true,
  },
  {
    id: "vin",
    label: "VIN",
    type: "text",
    required: true,
    placeholder: "Vehicle Identification Number",
  },
  {
    id: "customerName",
    label: "Customer Name",
    type: "text",
    required: true,
    placeholder: "Enter customer name",
    sortable: true,
    filterable: true,
  },
  {
    id: "customerPhone",
    label: "Phone",
    type: "phone",
    required: true,
    placeholder: "Enter phone number",
    validation: { minLength: 10, maxLength: 10 },
  },
  {
    id: "serviceType",
    label: "Service Type",
    type: "select",
    required: true,
    options: [
      { value: "regular_service", label: "Regular Service" },
      { value: "battery_check", label: "Battery Check" },
      { value: "electrical", label: "Electrical" },
      { value: "body_repair", label: "Body Repair" },
      { value: "warranty_repair", label: "Warranty Repair" },
      { value: "accident_repair", label: "Accident Repair" },
    ],
    filterable: true,
  },
  {
    id: "complaints",
    label: "Complaints",
    type: "textarea",
    required: true,
    placeholder: "Describe customer complaints",
  },
  {
    id: "status",
    label: "Status",
    type: "select",
    options: [
      { value: "open", label: "Open" },
      { value: "in_progress", label: "In Progress" },
      { value: "completed", label: "Completed" },
      { value: "cancelled", label: "Cancelled" },
    ],
    defaultValue: "open",
    conditionalClass: (value) => getStatusClass(value as string),
    filterable: true,
  },
  {
    id: "priority",
    label: "Priority",
    type: "select",
    options: [
      { value: "low", label: "Low" },
      { value: "normal", label: "Normal" },
      { value: "high", label: "High" },
    ],
    defaultValue: "normal",
    conditionalClass: (value) => getStatusClass(value as string),
    filterable: true,
  },
  {
    id: "technicianName",
    label: "Technician",
    type: "text",
    placeholder: "Assign technician",
  },
  {
    id: "estimatedCompletion",
    label: "Est. Completion",
    type: "datetime",
    placeholder: "Select estimated completion",
  },
  {
    id: "laborCost",
    label: "Labor Cost",
    type: "currency",
    placeholder: "Enter labor cost",
    showInForm: false,
  },
  {
    id: "partsCost",
    label: "Parts Cost",
    type: "currency",
    placeholder: "Enter parts cost",
    showInForm: false,
  },
  {
    id: "createdAt",
    label: "Created At",
    type: "datetime",
    showInForm: false,
    sortable: true,
  },
];

export const jobCardFieldMap = createFieldMap(jobCardFields);
